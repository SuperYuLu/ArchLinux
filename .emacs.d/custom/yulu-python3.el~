(provide 'yulu-python3)

(setq
    py-python-command "/usr/bin/python3"
    python-shell-interpreter "/usr/bin/ipython3"
    python-indent-offset 4
    )

(require 'auto-complete)
(global-auto-complete-mode t)

(linum-mode)
(setq linum-format "%2d \u2502 ")
(setq column-number-mode t)
(global-linum-mode t)
(setenv "IPY_TEST_SIMPLE_PROMPT" "1") ;; fix ipython3 prompt error


;; ------------------------highlight line number ---------------------------
(require 'linum)

(defvar linum-current-line 1 "Current line number.")
(defvar linum-border-width 1 "Border width for linum.")

(defface linum-current-line
  `((t :inherit linum
       :foreground "goldenrod"
       :weight bold
       ))
  "Face for displaying the current line number."
  :group 'linum)

(defadvice linum-update (before advice-linum-update activate)
  "Set the current line."
  (setq linum-current-line (line-number-at-pos)
	;; It's the same algorithm that linum dynamic. I only had added one
	;; space in front of the first digit.
	linum-border-width (number-to-string
			    (+ 1 (length
				  (number-to-string
				   (count-lines (point-min) (point-max))))))))

(defun linum-highlight-current-line (line-number)
  "Highlight the current line number using `linum-current-line' face."
  (let ((face (if (= line-number linum-current-line)
		  'linum-current-line
		'linum)))
    (propertize (format (concat "%" linum-border-width "d") line-number)
		'face face)))

(setq linum-format 'linum-highlight-current-line)
;; (highlight-indentation-mode nil)

;;(elpy-enable)
